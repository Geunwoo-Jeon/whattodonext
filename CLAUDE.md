# What to do next

시간을 의식적으로 쓰도록 돕는 앱

## 핵심 컨셉

**목적**: 현재 어떤 일을 할 것인지 의사결정을 계속 트리거하여 시간을 의식적으로 쓰게 만드는 것 (넛지)

### 핵심 플로우

1. **할 일 설정**: 지금부터 할 일 + 목표 완료 시간 입력
2. **상시 알림**: 알림창에 현재 하고 있는 일과 남은 시간 표시
3. **완료 처리**: 알림창을 눌러 완료 버튼 클릭
4. **반복**: 다음 할 일 설정

### 알림 시스템

- 목표 시간 도달 시 알림
- 목표 시간 초과 시 자주 알림 → 시간 조정 또는 다른 일로 전환 유도
- 완료하지 않고 다른 할 일로 넘어가는 것도 허용

### 할 일 유형: 도전 vs 충전

**도전**
- 목표 지향적인 활동, 완료가 있는 일
- 가능한 작은 단위로 쪼개서 달성하도록 넛지
- 예: 코딩 2시간, 보고서 작성, 운동

**충전**
- 목표 지향적이지 않은 활동, 완료 개념이 없는 일
- 의식적인 휴식과 여가
- 예: 유튜브 시청, 휴식, 명상, 산책

### 일일 기록

- 하루 동안 무슨 일을 했는지 가시성 좋게 시각화
- 자연스러운 일상 기록

## 플랫폼

- Android 앱 (현재)
- iOS 앱 (향후 동일 기능으로 개발 예정)

## 기술 스택

- **언어**: Kotlin
- **UI**: Jetpack Compose + Material3
- **알림**: Foreground Service + NotificationManager
- **아키텍처**: MVVM
- 필요시 추가: Room(로컬 DB), Hilt(DI)

## 프로젝트 구조

```
app/src/main/java/com/geunwoo/jun/whattodonext/
├── MainActivity.kt          # UI 화면 (입력/타이머)
├── TaskTimerService.kt      # 타이머 및 알림 서비스
├── WhatToDoNextApp.kt       # Application 클래스
└── ui/theme/
    ├── Color.kt
    ├── Theme.kt
    └── Type.kt
```

## 개발 진척도

### 완료된 기능

- [x] **할 일 입력 화면**: 도전/충전 선택, 할 일 이름 입력, 목표 시간 설정
- [x] **도전/충전 UI 분리**: 각각 다른 색상(오렌지/민트), 라벨, placeholder
- [x] **1시간 초과 경고**: 도전 모드에서 1시간 넘는 일 설정시 쪼개기 제안
- [x] **타이머 화면**: 남은 시간 카운트다운, 완료 버튼
- [x] **상시 알림**: Foreground Service로 현재 할 일과 남은 시간 표시
- [x] **알림에서 앱 열기**: 알림 클릭시 타이머 화면으로 이동
- [x] **알림에서 완료**: 알림의 "완료" 버튼으로 태스크 완료
- [x] **목표 시간 도달 푸시 알림**: 목표 시간이 됐을 때 푸시 알림
- [x] **초과 시간 표시**: 상시 알림과 앱 화면에 "+XX:XX" 형태로 초과 시간 표시
- [x] **3분마다 초과 알림**: 목표 시간 초과 후 3분마다 푸시 알림
- [x] **Idle 모드**: 할 일 미설정 시 3분마다 넛지 알림 ("이 시간을 어떻게 쓸까요?" 등)

### 남은 할 일

- [ ] **일일 기록**: 하루 동안 완료한 일 시각화
- [ ] **데이터 영속화**: Room DB로 태스크 기록 저장
- [ ] **5분 전 알림**: 목표 시간 5분 전 미리 알림 (선택적)
- [ ] **앱 아이콘**: 커스텀 앱 아이콘 디자인